<div class="App">
  <div class="App-header">
    <table mat-table [dataSource]="accounts">
      <!-- ID Column -->
      <ng-container matColumnDef="accountId">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let account"> {{account.accountId}} </td>
      </ng-container>

      <!-- Title Column -->
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title </th>
        <td mat-cell *matCellDef="let account"> {{account.title}} </td>
      </ng-container>

      <!-- Balance Column -->
      <ng-container matColumnDef="balance">
        <th mat-header-cell *matHeaderCellDef> Balance </th>
        <!-- Format balance w DecimalPipe-->
        <td mat-cell *matCellDef="let account">{{account.currency}} {{account.balance | number :'1.2-2' }} </td>
      </ng-container>

      <!-- createdAt Column -->
      <ng-container matColumnDef="createdAt">
        <th mat-header-cell *matHeaderCellDef> Created at </th>
        <td mat-cell *matCellDef="let account"> {{account.createdAt | date: 'dd/MM/yyyy HH:mm:ss zzzz' }} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <!-- Checks for clicked row and passes on accountId to routerlink for calling next page-->
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" [routerLink]="'/account/' + row.accountId">
      </tr>
</table>
      <!--
    (click)="navigateTo(row)" 
  [class.row-clicked]="clickedRows.has(row)"
    
    <button mat-button routerLink="/contact">
      Basic
    </button>

    <div>
      <h3>
        Click Log
      </h3>
    </div>

    @if (!clickedRows.size) {
    <div>Click a row to go to detailed account</div>
    }

    @if (clickedRows.size) {<a routerLink="/contact">1</a>}

<ul>
  @for (clickedRow of clickedRows; track clickedRow) {
  <li>Clicked on {{clickedRow.accountId}}</li>
  }
</ul>
    <br />
    <hr class="dashed">

    <p>Response test: {{testResponse | json }}</p>
    <ng-container *ngIf="testResponse | async as testDTO">
      <p>Name: {{ testDTO.response }}</p>
    </ng-container>
    <p>Response test2: {{account | json }}</p>

<mat-grid-list cols="2" rowHeight="2:1">
  <div *ngFor='let account of accounts | async'>
    <mat-grid-tile>ID: {{account.accountId}} </mat-grid-tile>
    <mat-grid-tile>Balance: {{account.balance}} </mat-grid-tile>
  </div>
</mat-grid-list>
-->
      <!--

<ng-container *ngIf="account | async ">
  <p>Name2: {{ account.accountMovement }}</p>
</ng-container>


<p>Response test3: {{account.accountId }}</p>

<ng-container *ngIf="account | async as account">
  <ul>
    @for (movement of account.accountMovement; track movement.description) {
      <li>{{ movement.description }}</li>
    }
  </ul>
</ng-container>

-->
</div></div>